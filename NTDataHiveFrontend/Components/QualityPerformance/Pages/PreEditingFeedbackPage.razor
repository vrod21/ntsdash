@page "/pre-editing-feedback"

@using Microsoft.AspNetCore.Authorization
@rendermode InteractiveServer
@attribute [Authorize]
@inject NTDataHiveFrontend.ServiceAccess.PreEditingFeedbackBackendService MyBackendService
@inject IConfiguration Configuration
@inject NavigationManager MyNavigation


<PageTitle>Pre-Editing Feedback</PageTitle>

<style>
    form .row {
        margin-bottom: 16px;
    }
</style>

<div class="create-feedback-button">
    <RadzenButton Style="background-color: #e81f4b;" Click="@Save" Text="Create Employee" />
</div>

<h3>Create - Pre-Editing Feedback</h3>

@if (addPreEditFeedback == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <EditForm Model="addPreEditFeedback">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <RadzenFieldset Text="Input Text">
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Supplier Name" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-value="addPreEditFeedback.SupplierName" Placeholder="Supplier Name" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Quality Assurance" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-value="addPreEditFeedback.QualityAssurance" Placeholder="QA Name" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Publisher Name" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-value="addPreEditFeedback.PublisherName" Placeholder="Publisher Name" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Journal ID" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-value="addPreEditFeedback.JournalId" Placeholder="Journal ID" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Article ID" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-value="addPreEditFeedback.ArticleId" Placeholder="Article ID" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Page Count" />
                            </div>
                            <div class="col-md-8">
                                <RadzenNumeric Style="width: 100%;" @bind-Value="addPreEditFeedback.PageCount" TValue="int" Placeholder="Page Count" />                                
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Error Count" />
                            </div>
                            <div class="col-md-8">
                                <RadzenNumeric Style="width: 100%;" @bind-value="addPreEditFeedback.ErrorCount" TValue="int" Placeholder="Error Count" />                                
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Description of Error" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextArea Style="width: 100%;" @bind-value="addPreEditFeedback.DescriptionOfError" Placeholder="Description of Error" />
                            </div>
                        </div>
                    </RadzenFieldset>
                </div>
                <div class="col-md-6">
                    <RadzenFieldset Text="Drop Down">
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Matter" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.Matter" Placeholder="FM/Non-FM" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Error Location" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.ErrorLocation" Placeholder="Error Location" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Error Code" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.ErrorCode" Placeholder="Error Code" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Error Type" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.ErrorType" Placeholder="Error Type" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Error SubType" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.ErrorSubtype" Placeholder="Error SubType" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Error Category" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.ErrorCategory" Placeholder="Error Category" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Introduced/Missed" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.IntroducedOrMissed" Placeholder="Introduced/Missed" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Department" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.Department" Placeholder="Department" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Employee Name" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.EmployeeName" Placeholder="Employee Name" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Copy Editing Level" />
                            </div>
                            <div class="col-md-8">
                                <RadzenTextBox Style="width: 100%;" @bind-Value="addPreEditFeedback.EmployeeName" Placeholder="CE Level" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 align-items-center d-flex">
                                <RadzenLabel Text="Time Created" />
                            </div>
                            <div class="col-md-8">
                                <RadzenDatePicker Style="width: 53%;" class="datepicker" @bind-Value="addPreEditFeedback.CreatedAt" YearRange="@("2023:" + @DateTime.Now.Year.ToString())" 
                                    DateFormat="MM/dd/yyyy h:mm tt" Placeholder="MM/DD/YYYY HH:MM tt" />
                            </div>
                        </div>
                    </RadzenFieldset>
                </div>
            </div>
        </div>
    </EditForm>
}



@code {
    private NTDataHiveFrontend.Model.PreEditingErrorFeedback addPreEditFeedback = new Model.PreEditingErrorFeedback();

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }

    private async Task Save()
    {
        await MyBackendService.SavePreEditFeedback(addPreEditFeedback);

        MyNavigation.NavigateTo("/");
    }
    public string WebId { get; set; }
    public string SupplierName { get; set; }
    public string QualityAssurance { get; set; }
    public string PublisherName { get; set; }
    public string JournalId { get; set; }
    public string ArticleId { get; set; }
    public int PageCount { get; set; }
    public int ErrorCount { get; set; }
    public string DescriptionOfError { get; set; }
    public string Matter { get; set; }
    public string ErrorLocation { get; set; }
    public string ErrorCode { get; set; }
    public string ErrorType { get; set; }
    public string ErrorSubtype { get; set; }
    public string ErrorCategory { get; set; }
    public string IntroducedOrMissed { get; set; }
    public string Department { get; set; }
    public string EmployeeName { get; set; }
    public string CopyEditingLevel { get; set; }
    public DateTime CreatedAt { get; set; }
}
